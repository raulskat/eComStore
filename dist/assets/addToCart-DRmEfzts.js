import{g as s,s as S,u as C,p as q}from"./showToast-Bmc3mbkc.js";const P=(e,t)=>{let r=s().find(l=>l.id===e),u=1;return r&&(u=r.quantity,t=r.price),{quantity:u,price:t}},y=()=>{let e=document.querySelector(".productSubTotal"),t=document.querySelector(".productFinalTotal"),u=s().reduce((l,m)=>{let c=parseInt(m.price)||0;return l+c},0);e.textContent=`$${u}`,t.textContent=`$${u+50}`},f=(e,t,a,r)=>{const u=document.querySelector(`#card${t}`),l=u.querySelector(".productQuantity"),m=u.querySelector(".productPrice");let c=1,n=0,o=s(),d=o.find(p=>p.id===t);d?(c=d.quantity,n=d.price):(n=r,r=r),e.target.className==="cartIncrement"&&(c<a?c++:c===a&&(c=a,n=r*a)),e.target.className==="cartDecrement"&&c>1&&c--,n=r*c,n=Number(n.toFixed(2));let i={id:t,quantity:c,price:n};i=o.map(p=>p.id===t?i:p),localStorage.setItem("cartProductLS",JSON.stringify(i)),l.innerText=c,m.innerText=n,y()},g=e=>{let t=s();t=t.filter(r=>r.id!==e),localStorage.setItem("cartProductLS",JSON.stringify(t));let a=document.getElementById(`card${e}`);a&&(a.remove(),S("delete",e)),C(t),y()};let x=s(),T=q.filter(e=>x.some(t=>t.id===e.id));const E=document.querySelector("#productCartContainer"),I=document.querySelector("#productCartTemplate"),L=()=>{T.forEach(e=>{const{id:t,name:a,image:r,price:u,stock:l,brand:m,category:c,description:n}=e;let o=document.importNode(I.content,!0);const d=P(t,u);o.querySelector("#cardValue").setAttribute("id",`card${t}`),o.querySelector(".category").textContent=c,o.querySelector(".productName").textContent=a,o.querySelector(".productImage").src=r,o.querySelector(".productImage").alt=a,o.querySelector(".productDescription").textContent=n,o.querySelector(".productPrice").textContent=d.price,o.querySelector(".productQuantity").textContent=d.quantity,o.querySelector(".stockElement").addEventListener("click",i=>{f(i,t,l,u)}),o.querySelector(".remove-to-cart-button").addEventListener("click",()=>g(t)),E.appendChild(o)})};L();y();
